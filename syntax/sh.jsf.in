# JOE syntax highlight file for the POSIX shell

# TODO:
#  * octal escape sequences
#  * highlight variables
#  * heredoc support (is this even possible?)

# Colors

=Idle
=Comment 	green
=Constant 	cyan
=Escape 	bold cyan
=Keyword 	bold

# Syntax

:idle Idle
	*		idle
	"#"		comment		recolor=-1
	"\\"		escape		recolor=-1
	"$"		expand		recolor=-1
	"'"		string_sq	recolor=-1
	"\""		string_dq	recolor=-1
	"\`"		string_bq	recolor=-1
	"a-zA-Z{}!"	ident		buffer

:comment Comment
	*		comment
	"\n"		idle

:escape Escape
	*		idle
	"\n"		idle		recolor=-2

:expand Idle
	*		idle

:string_sq Constant
	*		string_sq
	"\'"		idle
	"\\"		string_sq_esc	recolor=-1

:string_sq_esc Escape
	*		string_sq
	"\n"		string_sq	recolor=-2

:string_dq Constant
	*		string_dq
	"\""		idle
	"\\"		string_dq_esc	recolor=-1

:string_dq_esc Escape
	*		string_dq
	"\n"		string_dq	recolor=-2

:string_bq Constant
	*		string_bq
	"\`"		idle
	"\\"		string_bq_esc	recolor=-1

:string_bq_esc Escape
	*		string_bq
	"\n"		string_bq	recolor=-2
	
:ident Idle
	*		idle		noeat strings
	"!"		kw
	"{"		kw
	"}"		kw
	"case"		kw
	"do"		kw
	"done"		kw
	"elif"		kw
	"else"		kw
	"esac"		kw
	"fi"		kw
	"for"		kw
	"if"		kw
	"in"		kw
	"then"		kw
	"until"		kw
	"while"		kw
done
	"a-zA-Z0-9"	ident

:kw Keyword
	*	idle	noeat
